doctype html
head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    meta(http-equiv='X-UA-Compatible', content='ie=edge') 
    link(rel='icon', href='favicon.ico', type='image/x-icon')
    link(rel='shortcut icon', href='favicon.ico', type='image/x-icon')
    link(href='https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css', rel='stylesheet')
    style.
        html, body {
            height: 100%;
        }
        body {
            display: flex;
        }
        .container .row {
            height: 100%;
        }
        .container .row {
            display: flex;
            align-items: center;
        }
        .login-wrap {
            
        }
    script(src='https://cdn.bootcss.com/jquery/1.12.0/jquery.min.js')
    script(src='https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js')
body
    .container
      .row
        .col-md-4.col-md-offset-4
          .panel.panel-success
            .panel-heading 
              h3.panel-title 登录
            .panel-body
              form
                .form-group
                  input#username(type="text" class="form-control" placeholder="手机号")
                .form-group
                  input#pass(type="password" class="form-control" placeholder="密码")
                button#login.btn.btn-success.btn-lg.btn-block 登录
    script.
        $('#login').click(function(event) {
            event.preventDefault()
            var username = $('#username').val();
            var pass = $("#pass").val();
            if(username != 'admin' && username != pass) {
                alert('用户名或密码错误')
                return 
            }
            $.ajax('/res', {
                type: 'POST',
                data: {
                    username: username,
                    password: pass
                }
            })
            .then(res=>{
                if(res.code == 1) {
                    location('/admin')
                } else {
                    alert('用户名或密码错误')
                }
            })
        })

      